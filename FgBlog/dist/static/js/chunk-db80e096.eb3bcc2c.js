(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db80e096"],{ab88:function(t,e,a){"use strict";a.r(e);for(var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isBatchControl||t.isBatchControl2,expression:"isBatchControl || isBatchControl2"}],staticClass:"maskLayer",on:{click:t.close}}),a("batch-input",{directives:[{name:"show",rawName:"v-show",value:t.isBatchControl,expression:"isBatchControl"}],staticClass:"newApplicant",attrs:{batchType:"ProjectStatusInfo"},on:{close:t.close}}),a("batch-output",{directives:[{name:"show",rawName:"v-show",value:t.isBatchControl2,expression:"isBatchControl2"}],staticClass:"newApplicant",attrs:{batchType:"ProjectStatusInfo"},on:{close:t.close}}),a("a-table",{attrs:{columns:t.columns,"data-source":t.data,bordered:"",pagination:{pageSize:15},scroll:{x:1500,y:550}},scopedSlots:t._u([{key:"filterDropdown",fn:function(e){var n=e.setSelectedKeys,o=e.selectedKeys,c=e.confirm,s=e.clearFilters,r=e.column;return a("div",{staticStyle:{padding:"8px"}},[a("a-input",{directives:[{name:"ant-ref",rawName:"v-ant-ref",value:function(e){return t.searchInput=e},expression:"c => (searchInput = c)"}],staticStyle:{width:"188px","margin-bottom":"8px",display:"block"},attrs:{placeholder:"Search "+r.dataIndex,value:o[0]},on:{change:function(t){return n(t.target.value?[t.target.value]:[])},pressEnter:function(){return t.handleSearch(o,c,r.dataIndex)}}}),a("a-button",{staticStyle:{width:"90px","margin-right":"8px"},attrs:{type:"primary",icon:"search",size:"small"},on:{click:function(){return t.handleSearch(o,c,r.dataIndex)}}},[t._v(" Search ")]),a("a-button",{staticStyle:{width:"90px"},attrs:{size:"small"},on:{click:function(){return t.handleReset(s)}}},[t._v(" Reset ")])],1)}},{key:"filterIcon",fn:function(t){return a("a-icon",{style:{color:t?"#108ee9":void 0},attrs:{type:"search"}})}},{key:"customRender",fn:function(e,n,o,c){return[t.searchText&&t.searchedColumn===c.dataIndex?a("span",[t._l(e.toString().split(new RegExp("(?<="+t.searchText+")|(?="+t.searchText+")","i")),(function(e,n){return[e.toLowerCase()===t.searchText.toLowerCase()?a("mark",{key:n,staticClass:"highlight"},[t._v(t._s(e))]):[t._v(t._s(e))]]}))],2):[t._v(" "+t._s(e)+" ")]]}},t._l(["date","department","pdu","project","region","sow_num","project_num","new_project_num","offset_num","monthly_target","urgency","mouthly_reach","project_satisfaction","project_num_all","remarks","mouthly_target_reach"],(function(e){return{key:e,fn:function(n,o){return[a("div",{key:e},[o.editable?a("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:n},on:{change:function(a){return t.handleChange(a.target.value,o.key,e)}}}):[t._v(" "+t._s(n)+" ")]],2)]}}})),{key:"operation",fn:function(e,n){return[a("div",{staticClass:"editable-row-operations"},[n.editable?a("span",[a("a",{on:{click:function(){return t.save(n.key)}}},[t._v("Save")]),a("a-popconfirm",{attrs:{title:"Sure to cancel?"},on:{confirm:function(){return t.cancel(n.key)}}},[a("a",[t._v("Cancel")])])],1):a("span",[a("a",{attrs:{disabled:""!==t.editingKey},on:{click:function(){return t.edit(n.key)}}},[t._v("Edit")])])])]}}],null,!0)})],1)},o=[],c=a("045d"),s=a("597f"),r=(a("89a8"),a("d5ee"),a("51b3"),a("8ea3"),a("5a05"),a("5cd2")),i=a("88e0"),l=a("1bab"),d=[{title:"日期",dataIndex:"date",width:200,scopedSlots:{customRender:"date"}},{title:"部门",dataIndex:"department",width:250,scopedSlots:{customRender:"department"}},{title:"PDU",dataIndex:"pdu",width:100,scopedSlots:{customRender:"pdu"}},{title:"项目",dataIndex:"project",width:100,scopedSlots:{customRender:"project"}},{title:"地域",dataIndex:"region",width:250,scopedSlots:{customRender:"region"}},{title:"sow人力",dataIndex:"sow_num",width:100,scopedSlots:{customRender:"sow_num"}},{title:"当前项目组人数",dataIndex:"project_num",width:200,scopedSlots:{customRender:"project_num"}},{title:"需求满足度",dataIndex:"project_satisfaction",width:200,scopedSlots:{customRender:"project_satisfaction"}},{title:"剩余需求总数",dataIndex:"project_num_all",width:200,scopedSlots:{customRender:"project_num_all"}},{title:"新增需求",dataIndex:"new_project_num",width:100,scopedSlots:{customRender:"new_project_num"}},{title:"离补需求",dataIndex:"offset_num",width:200,scopedSlots:{customRender:"offset_num"}},{title:"月度目标数",dataIndex:"monthly_target",width:150,scopedSlots:{customRender:"monthly_target"}},{title:"需求紧急程度",dataIndex:"urgency",width:150,scopedSlots:{customRender:"urgency"}},{title:"月度满足数",dataIndex:"mouthly_reach",width:150,scopedSlots:{customRender:"mouthly_reach"}},{title:"目标达成",dataIndex:"mouthly_target_reach",width:150,scopedSlots:{customRender:"mouthly_target_reach"}},{title:"备注",dataIndex:"remarks",width:150,scopedSlots:{customRender:"remarks"}},{title:"operation",dataIndex:"operation",fixed:"right",scopedSlots:{customRender:"operation"},width:130}],u=[],h=0;h<100;h++)u.push({key:h.toString(),name:"Edrward ".concat(h),age:32,address:"London Park no. ".concat(h),job:"Ed".concat(h)});var p={components:{BatchInput:r["a"],BatchOutput:i["a"]},props:{BatchNum:{type:Number}},data:function(){return this.cacheData=u.map((function(t){return Object(s["a"])({},t)})),{data:u,columns:d,editingKey:"",isNewApplicant:!1,userName:"",searchText:"",searchInput:null,searchedColumn:"",isBatchControl:!1,isBatchControl2:!1}},methods:{handleChange:function(t,e,a){var n=Object(c["a"])(this.data),o=n.filter((function(t){return e===t.key}))[0];o&&(o[a]=t,this.data=n)},edit:function(t){var e=Object(c["a"])(this.data),a=e.filter((function(e){return t===e.key}))[0];this.editingKey=t,a&&(a.editable=!0,this.data=e)},save:function(t){var e=Object(c["a"])(this.data),a=Object(c["a"])(this.cacheData),n=e.filter((function(e){return t===e.key}))[0],o=a.filter((function(e){return t===e.key}))[0];n&&o&&(delete n.editable,this.data=e,Object.assign(o,n),this.cacheData=a),this.editingKey="",this.updateProjectStatusInfo(t)},cancel:function(t){var e=Object(c["a"])(this.data),a=e.filter((function(e){return t===e.key}))[0];this.editingKey="",a&&(Object.assign(a,this.cacheData.filter((function(e){return t===e.key}))[0]),delete a.editable,this.data=e)},handleSearch:function(t,e,a){e(),this.searchText=t[0],this.searchedColumn=a},log:function(){console.log(this.searchedColumn),console.log(this.searchInput),console.log(this.searchText)},handleReset:function(t){t(),this.searchText=""},editApplicant:function(){this.isNewApplicant=!this.isNewApplicant},updateProjectStatusInfo:function(t){l["a"]({url:"http://139.9.160.24/update_project_status/",method:"post",data:{data:this.data[t]}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},getProjectStatusInfo:function(){var t=this;l["a"]({url:"http://139.9.160.24/get_project_status_info/",method:"post"}).then((function(e){var a=e.data.infoList;t.data.length=0;for(var n=0;n<a.length;n++)console.log(a[n]),t.data.push(a[n]);t.cacheData=u.map((function(t){return Object(s["a"])({},t)}))})).catch((function(t){console.log(t)}))},close:function(){this.isBatchControl=!1,this.isBatchControl2=!1}},created:function(){this.getProjectStatusInfo()},watch:{BatchNum:{handler:function(t,e){console.log(t),console.log(e),t>e&&(this.isBatchControl=!0),e>t&&(this.isBatchControl2=!0)}},cleanNum:{handler:function(t,e){console.log(t),console.log(e),this.isBatchControl=!0}}}},m=p,f=(a("d646"),a("cba8")),_=Object(f["a"])(m,n,o,!1,null,"54772b2a",null);e["default"]=_.exports},d646:function(t,e,a){"use strict";a("ec36")},ec36:function(t,e,a){}}]);
//# sourceMappingURL=chunk-db80e096.eb3bcc2c.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-421fa2f5"],{"0560":function(t,a,e){"use strict";var n=e("88d4"),i=e("34cd").find,c=e("d421"),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),c(o)},"0dab":function(t,a,e){"use strict";e("f8ad")},"2cc0":function(t,a,e){"use strict";e.r(a);for(var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.columns?e("a-table",{attrs:{columns:t.columns,"data-source":t.data,bordered:"",pagination:{pageSize:15},scroll:{x:1500,y:400}},scopedSlots:t._u([t._l(t.colList,(function(a){return{key:a,fn:function(n,i){return[e("div",{key:a},[i.editable?e("a-input",{staticStyle:{margin:"-5px 0"},attrs:{value:n},on:{change:function(e){return t.handleChange(e.target.value,i.key,a)}}}):[t._v(" "+t._s(n)+" ")]],2)]}}})),{key:"operation",fn:function(a,n){return[e("div",{staticClass:"editable-row-operations"},[n.editable?e("span",[e("a",{on:{click:function(){return t.save(n.key)}}},[t._v("Save")]),e("a-popconfirm",{attrs:{title:"Sure to cancel?"},on:{confirm:function(){return t.cancel(n.key)}}},[e("a",[t._v("Cancel")])])],1):e("span",[e("a",{attrs:{disabled:""!==t.editingKey},on:{click:function(){return t.edit(n.key)}}},[t._v("Edit")])])])]}}],null,!0)}):t._e()},i=[],c=e("ebb4"),o=e("045d"),s=e("597f"),r=(e("51b3"),e("8ea3"),e("0560"),e("89a8"),e("1a91"),e("1bab")),d=[],u=0;u<100;u++)d.push({key:u,name:"Edrward ".concat(u),age:32,address:"London Park no. ".concat(u)});var h={props:{tableType:{type:String},newSwitch:{type:Number}},data:function(){return this.cacheData=d.map((function(t){return Object(s["a"])({},t)})),{data:d,columns:void 0,editingKey:"",colList:[],isNewing:!1}},methods:{handleChange:function(t,a,e){var n=Object(o["a"])(this.data),i=n.find((function(t){return a===t.key}));i&&(i[e]=t,this.data=n)},edit:function(t){var a=Object(o["a"])(this.data),e=a.find((function(a){return t===a.key}));this.editingKey=t,e&&(e.editable=!0,this.data=a)},save:function(t){var a=Object(o["a"])(this.data),e=Object(o["a"])(this.cacheData),n=a.find((function(a){return t===a.key})),i=e.find((function(a){return t===a.key}));n&&i&&(delete n.editable,this.data=a,Object.assign(i,n),this.cacheData=e),this.$emit("save",a,this.editingKey),this.editingKey="",this.cacheData=this.data.map((function(t){return Object(s["a"])({},t)})),this.isNewing?this.createCommon():this.updateCommon(t)},cancel:function(t){var a=Object(o["a"])(this.data),e=a.find((function(a){return t===a.key}));if(this.editingKey="",e&&(Object.assign(e,this.cacheData.find((function(a){return t===a.key}))),delete e.editable,this.data=a),this.isNewing){this.isNewing=!1;var n=Object(o["a"])(this.data);n.remove(0),this.data=n}},getColumns:function(){var t=this;r["a"]({url:this.getBaseUrl()+"get_columns/",method:"post",data:{tableType:this.tableType}}).then((function(a){t.columns=a.data.columns,t.columns.forEach((function(a){t.colList.push(a.dataIndex)})),console.log(t.colList)})).catch((function(t){console.log(t)}))},getData:function(){var t=this;r["a"]({url:this.getBaseUrl()+"get_common_data/",method:"post",data:{tableType:this.tableType,filterRegion:this.$cookies.get("region")}}).then((function(a){t.data=a.data.tableData,t.cacheData=t.data.map((function(t){return Object(s["a"])({},t)}))})).catch((function(t){console.log(t)}))},updateCommon:function(t){var a,e=Object(c["a"])(this.data);try{for(e.s();!(a=e.n()).done;){var n=a.value;n.key===t&&r["a"]({url:this.getBaseUrl()+"update_common_info/",method:"post",data:{tableType:this.tableType,data:n}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}catch(i){e.e(i)}finally{e.f()}},createCommon:function(){r["a"]({url:this.getBaseUrl()+"create_common_info/",method:"post",data:{tableType:this.tableType,data:this.data[0]}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}},created:function(){this.getColumns(),this.getData()},watch:{newSwitch:{handler:function(){this.isNewing=!0;for(var t=0;t<this.data.length;t++)this.data[t].key+=1;this.data.unshift({key:0}),this.cacheData=this.data.map((function(t){return Object(s["a"])({},t)}));var a=Object(o["a"])(this.data),e=a.find((function(t){return 0===t.key}));this.editingKey=0,e&&(e.editable=!0,this.data=a)}}}},l=h,f=(e("0dab"),e("cba8")),b=Object(f["a"])(l,n,i,!1,null,"307431f4",null);a["default"]=b.exports},f8ad:function(t,a,e){}}]);
//# sourceMappingURL=chunk-421fa2f5.04d4aec1.js.map